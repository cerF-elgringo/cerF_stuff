<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Poop Battle Mockup</title>
  <style>
    body {
      margin: 0;
      background: #87ceeb;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    #ground {
      position: absolute;
      bottom: 20%;
      width: 100%;
      height: 5px;
      background: black;
    }

    #startBtn {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 25px;
      font-size: 20px;
      cursor: pointer;
      background: #00ff00;
      border: none;
      border-radius: 10px;
      animation: glow 1s infinite alternate;
    }

    @keyframes glow {
      from { box-shadow: 0 0 5px #00ff00; }
      to { box-shadow: 0 0 20px #00ff00; }
    }

    .player {
      position: absolute;
      width: 200px;
      text-align: center;
    }

    .head {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-size: cover;
      background-position: center;
      margin: 0 auto;
    }

    .stick {
      width: 2px;
      height: 150px;
      background: black;
      margin: 0 auto;
      position: relative;
    }

    /* Arms */
    .arm-left, .arm-right {
      width: 60px;
      height: 2px;
      background: black;
      position: absolute;
      top: 110px;
      transform-origin: left center;
    }
    .arm-left { left: 0px; }
    .arm-right { right: 0px; transform-origin: right center; }

    /* Extra arms */
    .arm-left2, .arm-right2 {
      width: 50px;
      height: 2px;
      background: black;
      position: absolute;
      top: 130px;
    }
    .arm-left2 { left: -10px; transform: rotate(-20deg); }
    .arm-right2 { right: -10px; transform: rotate(20deg); }

    /* Legs forming upside-down V */
    .leg-left, .leg-right {
      width: 2px;
      height: 60px;
      background: black;
      position: absolute;
      top: 150px;
      transform-origin: top center;
    }
    .leg-left { left: 95px; transform: rotate(-30deg); }
    .leg-right { right: 95px; transform: rotate(30deg); }

    .shovel {
      width: 40px;
      height: 10px;
      background: gray;
      position: absolute;
      top: 105px;
      border-radius: 5px;
    }
    .shovel-left { left: 90px; }
    .shovel-right { right: 90px; }

    @keyframes swingLeft {
      0% { transform: rotate(0deg); }
      50% { transform: rotate(40deg); }
      100% { transform: rotate(0deg); }
    }
    @keyframes swingRight {
      0% { transform: rotate(0deg); }
      50% { transform: rotate(-40deg); }
      100% { transform: rotate(0deg); }
    }

    .poop {
      position: absolute;
      font-size: 30px;
      animation: fling 1.2s linear forwards;
    }

    @keyframes fling {
      0% { transform: translate(0,0); opacity: 1; }
      100% { transform: translate(var(--dx), var(--dy)); opacity: 1; }
    }

    /* Hit splat */
    .hit-splat {
      position: absolute;
      font-size: 40px;
      font-weight: bold;
      opacity: 1;
      animation: splatAnim 0.6s forwards;
      pointer-events: none;
    }

    @keyframes splatAnim {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(1.5); opacity: 0; }
    }

    .cover-layer {
      position: absolute;
      width: 80px;
      height: 0;
      background: brown;
      bottom: 80px;
      left: 60px;
      transition: height 0.8s;
      z-index: -1;
    }
  </style>
</head>
<body>

<button id="startBtn">START BATTLE</button>
<div id="ground"></div>

<div id="player1" class="player" style="left: 15%; bottom: 20%;">
  <div class="head" style="background-image:url('https://converted-media.jpgstoreapis.com/QmeMMRk9gcKWyXf6CH3JP2NUDr5rhAdKyCRxgoxLxUHt6j.sz_1442.dims_800x800.anim_0.webp');"></div>
  <div class="stick"></div>
  <div class="arm-left" id="p1arm"></div>
  <div class="arm-right"></div>
  <div class="arm-left2"></div>
  <div class="arm-right2"></div>
  <div class="leg-left"></div>
  <div class="leg-right"></div>
  <div class="shovel shovel-left"></div>
  <div class="cover-layer" id="cover1"></div>
  <div class="name">CERF</div>
</div>

<div id="player2" class="player" style="right: 15%; bottom: 20%;">
  <div class="head" style="background-image:url('https://converted-media.jpgstoreapis.com/QmeMMRk9gcKWyXf6CH3JP2NUDr5rhAdKyCRxgoxLxUHt6j.sz_1442.dims_800x800.anim_0.webp');"></div>
  <div class="stick"></div>
  <div class="arm-left"></div>
  <div class="arm-right" id="p2arm"></div>
  <div class="arm-left2"></div>
  <div class="arm-right2"></div>
  <div class="leg-left"></div>
  <div class="leg-right"></div>
  <div class="shovel shovel-right"></div>
  <div class="cover-layer" id="cover2"></div>
  <div class="name">SAYOS</div>
</div>

<script>
let p1 = 0;
let p2 = 0;
const maxCover = 120;
let running = false;

const arm1 = document.getElementById('p1arm');
const arm2 = document.getElementById('p2arm');

function randomColor() {
  const colors = ["red","orange","yellow","green","cyan","magenta"];
  return colors[Math.floor(Math.random() * colors.length)];
}

function createHitSplat(x, y) {
  const splat = document.createElement('div');
  splat.className = 'hit-splat';
  splat.textContent = 'ðŸ’¥';
  splat.style.left = x + 'px';
  splat.style.top = y + 'px';
  // Assign a random color each time
  splat.style.color = randomColor();
  document.body.appendChild(splat);
  setTimeout(() => splat.remove(), 600);
}

function flingPoop(from, to, x1, y1, x2, y2) {
  const poop = document.createElement('div');
  poop.className = 'poop';
  poop.textContent = 'ðŸ’©';
  poop.style.left = x1 + 'px';
  poop.style.top = y1 + 'px';
  poop.style.setProperty('--dx', (x2 - x1) + 'px');
  poop.style.setProperty('--dy', (y2 - y1) + 'px');
  document.body.appendChild(poop);

  // Hit splat appears after poop reaches target
  setTimeout(() => {
    createHitSplat(x2, y2);
    poop.remove();
  }, 1200);

  if (to === 1) {
    p1 += 20;
    document.getElementById('cover1').style.height = Math.min(p1, maxCover) + 'px';
  } else {
    p2 += 20;
    document.getElementById('cover2').style.height = Math.min(p2, maxCover) + 'px';
  }
}

function playRound() {
  let interval = setInterval(() => {
    if (!running) {
      clearInterval(interval);
      return;
    }

    const attacker = Math.random() < 0.5 ? 1 : 2;

    if (attacker === 1) {
      arm1.style.animation = 'swingLeft 1s ease';
      flingPoop(1, 2, 250, 300, window.innerWidth - 250, 300);
      setTimeout(() => arm1.style.animation = '', 1000);
    } else {
      arm2.style.animation = 'swingRight 1s ease';
      flingPoop(2, 1, window.innerWidth - 250, 300, 250, 300);
      setTimeout(() => arm2.style.animation = '', 1000);
    }

    if (p1 >= maxCover) {
      running = false;
      clearInterval(interval);
      alert('CERF is fully covered with S#!T! SAYOS wins!');
    }
    if (p2 >= maxCover) {
      running = false;
      clearInterval(interval);
      alert('SAYOS is fully covered with S#!T! CERF wins!');
    }
  }, 1500);
}

document.getElementById('startBtn').addEventListener('click', () => {
  if (running) return;
  running = true;
  p1 = 0;
  p2 = 0;
  document.getElementById('cover1').style.height = '0px';
  document.getElementById('cover2').style.height = '0px';
  playRound();
});
</script>

</body>
</html>
